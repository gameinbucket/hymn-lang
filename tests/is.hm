enum foo
	hello(int)
	world(string)

fun(r int) maybe<foo>
	if r == 2
		return foo.hello(8)
	return none

the_world() foo
	return foo.world("wow")

main()
	mutable e = foo.hello(2)
	if e is hello
		echo("hello!")

	for e is hello
		e = foo.world("e")

	if e is the_world()
		echo("e is the world")

	a = fun(2)
	test = a is none
	if test
		echo("none")
	if a is some
		echo("some")

	match b := fun(2)
		none => echo("no")
		some =>
			echo("yes")
			(* match b
				hello =>
					echo("hello")
					echo(b.0)
				world =>
					echo("world")
					echo(b.0) *)

	match c := foo.hello(8)
		hello =>
			echo("hello " + to_str(c.0))
		world =>
			echo("world " + to_str(c.0))
	
	if fun(2) is some
		echo("some")
